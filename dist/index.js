!function(t,n,e,a){try{t.VRControls=function(t){var e,a=null;"VRFrameData"in n&&(a=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(t){t.length>0&&(e=t[0])}),this.update=function(){var n;if(e&&(e.getFrameData?(e.getFrameData(a),n=a.pose):e.getPose&&(n=e.getPose()),n&&null!==n.orientation)){for(var i=0;i<3;++i)n.orientation[i]=Math.min(.2,Math.max(-.2,n.orientation[i]));t.quaternion.fromArray(n.orientation)}},this.resetPose=function(){e&&e.resetPose()}},t.VRButton={createButton:function(t){function n(){i.display="",i.cursor="auto",i.left="calc(50% - 75px)",i.width="150px",a.onmouseenter=null,a.onmouseleave=null,a.onclick=null,a.textContent="VR NOT SUPPORTED"}if("xr"in navigator){var a=e.createElement("button");a.id="VRButton";var i=a.style;return i.display="none",(r=a.style).position="absolute",r.bottom="20px",r.padding="12px 6px",r.border="1px solid #fff",r.borderRadius="4px",r.background="rgba(0,0,0,.1)",r.color="#fff",r.font="normal 13px sans-serif",r.textAlign="center",r.opacity="0.5",r.outline="none",r.zIndex="999",navigator.xr.isSessionSupported("immersive-vr").then(function(e){e?function(){var n=null;function e(e){e.addEventListener("end",r),t.xr.setSession(e),a.textContent="EXIT VR",n=e}function r(){n.removeEventListener("end",r),a.textContent="ENTER VR",n=null}i.display="",i.cursor="pointer",i.left="calc(50% - 50px)",i.width="100px",a.textContent="ENTER VR",a.onmouseenter=function(){i.opacity="1.0"},a.onmouseleave=function(){i.opacity="0.5"},a.onclick=function(){null===n?navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking"]}).then(e):n.end()}}():n()}),a}var r}};var i,r,s,o=n.AudioContext||n.webkitAudioContext,u=n.OfflineAudioContext||n.webkitOfflineAudioContext;.2,i=((t=1,n=.05,e=220,a=0,i=0,o=.1,u=0,c=1,h=0,l=0,f=0,v=0,E=0,w=0,$=0,M=0,p=0,T=1,A=0,d=0)=>{let I,O,g=2*Math.PI,S=h*=500*g/s**2,N=(0<$?1:-1)*g/4,R=e*=(1+2*n*Math.random()-n)*g/s,m=[],D=0,L=0,H=0,b=1,k=0,U=0,y=0;for(l*=500*g/s**3,$*=g/s,f*=g/s,v*=s,E=s*E|0,O=(a=99+s*a)+(A*=s)+(i*=s)+(o*=s)+(p*=s)|0;H<O;m[H++]=y)++U%(100*M|0)||(y=u?1<u?2<u?3<u?Math.sin((D%g)**3):Math.max(Math.min(Math.tan(D),1),-1):1-(2*D/g%2+2)%2:1-4*Math.abs(Math.round(D/g)-D/g):Math.sin(D),y=(E?1-d+d*Math.sin(2*Math.PI*H/E):1)*(0<y?1:-1)*Math.abs(y)**c*t*.2*(H<a?H/a:H<a+A?1-(H-a)/A*(1-T):H<a+A+i?T:H<O-p?(O-H-p)/o*T:0),y=p?y/2+(p>H?0:(H<O-p?1:(O-H)/p)*m[H-p|0]/2):y),D+=(I=(e+=h+=l)*Math.sin(L*$-N))-I*w*(1-1e9*(Math.sin(H)+1)%2),L+=I-I*w*(1-1e9*(Math.sin(H)**2+1)%2),b&&++b>v&&(e+=f,R+=f,b=0),!E||++k%E||(e=R,h=S,b=b||1);return(t=r.createBuffer(1,O,s)).getChannelData(0).set(m),(e=r.createBufferSource()).buffer=t,e.connect(r.destination),e.start(),e});var c=[,,714,.09,.14,.42,1,.53,5.9,.1,199,.03,.1,.1,,,.1,.92,.08,.01],h=[,,113,.02,,.3,,.2,,.3,,,,,,,.03,.9,,.04],l=[,,73,,,.32,4,.62,-.2,,,,,,,,,.92,.02,.29],f=[,,47,.06,.03,.01,1,.72,74,92,432,.03,.03,,-.8],v=[,,1433,.11,,0,,.55,-5.7,,-431,.09,.23,,,,.14,,.16],E=-1,w=4,$=s=44100,M={t:null,n:!1,e:function(){M.i||(M.i=!0,r=new o,M.t=new o,function(){var t=0,n=function(){2===++t&&(M.n=!0,M.i&&(M.r.start(),M.s.start()))};function e(t,n,e){var a=(n?44:.5)*w,i=new u(1,$*a,$),r=[];t.forEach(function(e,a){var s=[],o=[];r.push(o);var u=i.createGain();u.gain.value=e.volumn||1,u.gain.maxValue=1,u.connect(i.destination);for(var c=e.maxOscillatorCnt||1,h=0;h<c;++h){var l=i.createOscillator();o.push(l),e.wave&&(l.type=e.wave);var f=i.createGain();s.push(f),l.connect(f),f.connect(u)}for(var v=0,$=e.envelope,M=0;M<e.patterns.length;++M){var T=e.patterns[M];if(null!=T&&T!=E){var A=1;T.span&&(A=T.span,T=T.pattern),T.forEach(function(e,i){var r=1/e.length,u=w*A/T.length*4;n&&0===a&&M===t[0].patterns.length-1&&(u/=4);for(var h=$.attack*u,l=v+h,f=$.decay*u,E=l+f,d=$.sustain*u,I=$.value*r,O=E+d,g=$.release*u,S=0;S<c;++S)if(S<e.length){var N=p(e[S]);o[S].frequency.setValueAtTime(N,v);var R=s[S].gain;R.setValueAtTime(0,v),R.linearRampToValueAtTime(r,l),R.linearRampToValueAtTime(I,E),R.setValueAtTime(I,O),R.linearRampToValueAtTime(0,O+g)}else s[S].gain.setValueAtTime(0,v),s[S].gain.setValueAtTime(0,v+u);v+=u})}else{for(var d=0;d<c;++d)s[d].gain.setValueAtTime(0,v);v+=4*w}}}),r.forEach(function(t){t.forEach(function(t){t.start()})}),i.startRendering(),i.oncomplete=function(t){var a=M.t.createBufferSource();a.buffer=t.renderedBuffer,a.loop=!0;var i=M.t.createGain();i.gain.value=0,a.connect(i),i.connect(M.o),n?(i.gain.value=1,M.u=i,M.r=a):(M.h=i,M.s=a),e(a)}}M.o=M.t.createGain(),M.o.gain.value=.7,M.o.connect(M.t.destination),a=[7,4,5,2,3,0,3,4],i=function(t,n){return n=n||0,a.map(function(e){return t.map(function(t){return e+7*n+t})})},r=E,s=i([0],-1),o=i([0],-1),c=i([0],0),h={span:2,pattern:s},l={span:2,pattern:i([0,3],-1)},e([{patterns:[h,l,l,l,l,[[3,0,-4]]],volumn:.2,maxOscillatorCnt:3,envelope:{attack:.3,decay:.05,sustain:.05,release:.5,value:.9}},{patterns:[,,c,o,,,o,c,o,r],volumn:.1,envelope:{attack:0,decay:.5,sustain:0,release:.3,value:1}}],!0,n),e([{patterns:[{pattern:[[-5]],span:1/8}],volumn:.15,envelope:{attack:.4,decay:.05,sustain:.05,release:.5,value:.9},wave:"triangle"}],!1,n);var a,i,r,s,o,c,h,l}())},l:function(t){M.n&&i(...t)},f:function(t){M.n&&M.h&&t!==M._lastIndicatorRatio&&(M.h.gain.value=t?2*t+.5:0,M.s.playbackRate.value=1+4*t,M.u.gain.value=1-.5*t,M._lastIndicatorRatio=t)},r:null,u:null,s:null,h:null,_lastIndicatorRatio:null,o:null,i:!1};function p(t,n){for(n=n||0;t<=0;)--n,t+=7;for(;t>7;)++n,t-=7;const e=[0,2,3,5,7,8,10][t-1];return 440*Math.pow(2,n+e/12)}var T,A,d=[],I=[];var O,g={v:0,w:1,$:2,M:3,p:4,T:5,A:6,d:7,I:8},S="?t=0"==n.location.search,N=[];function R(t){if(!S){var n=e.getElementById("r");O=t;var a="";switch(t){case g.v:case g.I:return void(n.style.display="none");case g.w:a="A/S/D/W TO MOVE.";break;case g.$:a="FIND 10 DNA SAMPLES. IF IS NEAR, THE BLUE LIGHT ON YOUR FLYING SAUCER WILL BLINK FASTER AND THE RADAR AUDIO MAY ALSO HELP.",setTimeout(()=>{N[g.$]=1},1e4);break;case g.M:a="FIND THE PLACE WHERE THE LIGHT BLINKS FASTEST AND THE AUDIO HAS THE HIGHEST FREQUENCY.";break;case g.p:a="HOLD SPACE AND RELEASE AT THE CORRECT MOMENT TO CATCH IT!";break;case g.T:a="OOPS... YOU WERE WITNESSED BY HUMANS.",setTimeout(()=>{N[g.T]=1},15e3);break;case g.A:a="FLY OVER THE RED SPOT AND HOLD SPACE TO MAKE IT 404.";break;case g.d:a="GOOD JOB! NOW, COMPLETE YOUR GOAL OF COLLECTING 10 DNA SAMPLES.",setTimeout(()=>{R(g.I),S=!0},15e3)}n.innerText=a,n.style.display="block"}}var m,D,L,H,b,k,U,y,F,C,x,P=function(t){return e.getElementById(t)},V="block",W="none",G="#fff",Y=n.innerWidth,B=n.innerHeight,_=2,K=10,z=10.1,J=9.8,Q=11,X=10,j=a/600,q=j/30,Z=.42*a,tt=0,nt=0,et=2,at=9,it=5e6,rt=20,st=15,ot=(rt-st)/20,ut=.36,ct=0,ht=(ut-ct)/20,lt={O:0,g:1,S:2,N:3},ft={R:0,m:1,D:2,L:3,H:4,k:5,U:6,F:7,C:8,P:9,V:10},vt={W:0,G:1,Y:2,B:3,_:4,K:5},Et=3,wt=60,$t=new t.Vector3(1,0,0),Mt=new t.Vector3(0,1,0),pt=new t.Vector3(0,0,0),Tt=new t.Vector3(1,1,1),At=Math.max(2,Math.round(B/250));n.rttOn=!0;var dt,It,Ot,gt,St,Nt,Rt,mt,Dt,Lt,Ht,bt,kt,Ut,yt,Ft,Ct,xt,Pt,Vt,Wt=[],Gt=new t.Group,Yt=new t.Group,Bt=new t.Group,_t=0,Kt={},zt={phi:0,theta:0},Jt=vt.W,Qt=lt.O,Xt=ft.R,jt=new t.Vector3(-50,-.65,Q+2),qt=new t.Vector3(0,0,rt),Zt=new t.Vector3(0,0,0),tn=new t.Vector3(-100,0,-250),nn=new t.Vector3(-50,0,Q),en=mn(Q,Z,tt),an=new t.Vector3(-3,1,16),rn=!1,sn={J:"#DD4391",Q:"#0e1a25",X:["#31d9d9","#32c5d9","#44a9c8","#2694b9","#067499"],j:"#9be889"},on=P("g"),un=!0,cn=[87,38,83,40,65,37,68,39],hn={q:new t.Group,Z:new t.SphereGeometry(.1,16,16),tt:new t.MeshToonMaterial({color:"#ffadd2"}),nt:1/0,et:!1,at:!1,it:null,rt(){Gt.add(this.q),this.q.layers.set(et),this.st(Z+.42,tt+.42);for(var t=bn(K,Z,tt),n=0;n<X-1;++n){do{var e=Ln(),a=Ln(),i=mn(K,e,a)}while(i.angleTo(t)<=.5);this.st(e,a)}},ot(){this.q.remove(...this.q.children);for(var t=0;t<X;++t)this.st(Ln(),Ln());this.it=null},st(n,e){var a=new t.Mesh(this.Z,this.tt);a.position.setFromSphericalCoords(K,n,e),a.visible=!1,this.q.add(a)},ut(t){this.q.remove(t)},ct(){return this.q.children.length},ht(){this.nt=fn(this.q.children),this.et=this.nt<=.5,this.at=this.nt<=.045,this.lt()},lt(){if(Xt===ft.k&&this.at&&!this.it){if(this.it=vn(this.q.children),!this.it)return;var n=bn(K,Z,tt);this.it.position.set(n.x,n.y,n.z),this.it.visible=!0}if(this.it){const n=(new t.Spherical).setFromVector3(this.it.position);n.radius<Q?(n.radius+=.02,this.it.position.setFromSpherical(n)):(this.ut(this.it),this.it=null,Nn(),wn.st(),!this.ct()&&setTimeout(()=>dn(vt.B,1),500))}}},ln={q:new t.Group,Z:new t.SphereGeometry(.15,16,16),tt:new t.MeshToonMaterial({color:"#ff4d4f",transparent:!0,opacity:.7}),nt:1/0,it:null,ft:P("p"),vt:Date.now(),Et:{wt:null,$t:!1,Mt:null},pt:null,rt({pt:t}){this.pt=t,this.q.layers.set(et),Gt.add(this.q)},ot(){for(var t=this.q.children,n=t.length-1;n>=0;n--)this.ut(t[n]);this.it=null},ct(){return this.q.children.length},st(n,e){var a=new t.Mesh(this.Z,this.tt);a.position.setFromSphericalCoords(K,n,e),a._viewed=yn(1,10),a._maxV=yn(100,1e5),a._p=kn("div",this.ft,"p"),this.q.add(a),this.Tt(a);var i=this.pt.st(a._viewed);a._n=i},ut(t){t&&(t._p&&this.ft.removeChild(t._p),t._p=null,t._n=null,this.q.remove(t))},At(){return this.q.children.reduce((t,n)=>t+(n._d?0:n._viewed),0)},ht(){if(Rn()){if(this.ct()<8){var n=Math.floor(_t/30);if(n&&!Kt[n]){var e=Bt.children.sort((t,n)=>t._t-n._t)[0];if(e){var a=new t.Spherical;a.setFromVector3(e.position),a.phi+=Dn(.6),a.theta+=Dn(.6),this.st(a.phi,a.theta),Bt.remove(e)}}Kt[n]=!0}this.nt=fn(this.q.children),this.lt(),this.dt()}},lt(){if(this.it=this.nt<.03?vn(this.q.children):null,Xt===ft.P){var t=this.Et;Wt[32]?t.$t?Date.now()-t.wt>=1e3&&this.It():this.Ot():this.gt()}},Ot(){var{Et:t,it:n}=this;n&&(t.$t=!0,n._p.classList.add("pl"),t.wt=Date.now())},gt(){var{Et:t,it:n}=this;n&&(n._p.classList.remove("pl"),t.$t=!1,t.Mt=!1)},It(){var{Et:t,it:n,pt:e}=this;n&&(t.$t=!1,t.Mt=!0,n._p.classList.add("pf"),n.visible=!1,n._d=!0,e.St(n._n),setTimeout(()=>{n&&(n._p&&n._p.classList.add("po"),setTimeout(()=>this.ut(n),500))},3e3),M.l(v),O!==g.T&&O!==g.A||setTimeout(()=>R(g.d),1e3),Nn())},dt(){var t=Date.now()-this.vt>1e3;t&&(this.vt=Date.now());var n=!1;this.q.children.forEach(e=>{var a=Hn(e),i=e._p,{style:r}=i;r.left=Math.round(a.x)+"px",r.top=Math.round(a.y+10)+"px",r.opacity=a.z<5?.2:1,e._d||e===this.it&&Xt===ft.P||!t||(e._viewed+=yn(0,e._maxV),this.Tt(e),this.pt.Nt(e._n,i.innerText),n=!0)}),n&&(Nn(),ln.At()>=it&&setTimeout(()=>dn(vt.B),500))},Tt(t){var n=t._p;if(t._viewed>=1e6){const e=Math.round(t._viewed/1e5)/10+"M";n.setAttribute("class","p R"),n.innerText=e+" VIEWED"}else if(t._viewed>=1e4){const e=Math.round(t._viewed/100)/10+"K";n.setAttribute("class","p y"),n.innerText=e+" VIEWED"}else n.innerText=t._viewed+" VIEWED"}};function fn(n){return n.reduce(function(n,e){var a=Yt.position.angleTo(e.localToWorld(new t.Vector3));return e.userData.angle=a,Math.min(n,a)},1/0)}function vn(t){return t.reduce(function(t,n){return n._d||t&&!(n.userData.angle<t.userData.angle)?t:n},null)}var En={Rt:P("t"),mt(){this.Rt.style.display=V},Dt(){this.Rt.style.display=W},ot(){this.Dt(),this.Rt.innerHTML=""},st(){var t=kn("div",this.Rt,"T"),n=kn("div",t,"l");kn("img",n,"a").setAttribute("src",(null==T&&(T=Math.floor(Math.random()*d.length)-1),++T>=d.length&&(T=0),d[T])),kn("div",n,"v");var e=kn("div",t,"r");return kn("div",e,"n").innerText="@"+Un(["ALICE","BOB","CAROL","DAVE","EVE","FRANK","GRACE","HEIDI"])+"_"+Un(["LOVES","HATES","MISSING","THE"])+"_"+Un(["CATS","DOGS","SLEEPING","OVILIA","YUMAO","YOU","JOKES","JS","GAMES"]),kn("div",e,"c").innerText=Un(["OMG!","OH NO!","OH SH*T...","CAN YOU BELIEVE THIS?","TELL ME I HAVEN'T WOKEN UP FROM MY DREAM.","ARE YOU KIDDING?","YOU WON'T BELIEVE THIS!","I CAN'T BELIEVE THIS EITHER... BUT","I CAN'T BELIEVE MY OWN EYES","!!!",""])+" "+Un(["THERE IS AN ALIEN IN MY BACKYARD?!!","AN ALIEN IN THE DOWNTOWN!","MY SON SAID THAT HE SAW AN ALIEN THIS MORNING. GUESS HOW OLD IS HE?","GUESS WHAT/WHO I SAW TODAY!","I SAW A UFO FLYING OVER MY HOUSE JUST NOW!","WHAT'T THE *THING* FLYING OVER ME JUST NOW???","WAS IT AN ALIENE OR AEROPLANE?"]),t.parentNode.scrollTop=t.offsetTop,this.mt(),M.l(f),t},Nt(t,n){t.getElementsByClassName("v")[0].innerText=n},St(t){t.className="T TT",this.Nt(t,"NA"),t.children[1].children[1].innerText="(404) NOT FOUND",t.parentNode.scrollTop=t.offsetTop}},wn={Rt:P("h"),mt(){this.Rt.style.display=V},Dt(){this.Rt.style.display=W},ot(){this.Dt(),this.Rt.innerText=""},st(){kn("img",this.Rt,"a d").setAttribute("src",(null==A&&(A=Math.floor(Math.random()*I.length)-1),++A>=I.length&&(A=0),I[A])),this.mt()}},$n={Rt:P("w"),Lt:P("wt"),Ht:P("wp"),bt:16,kt:0,Ut:0,yt:.3,Mt:null,Ft(t){var n=1.5+.075/(.03+t);this.kt=(this.bt-n)/2,this.Ut=this.bt-this.kt;var e=this.Lt.style;e.marginLeft=this.kt+"vh",e.width=n+"vh"},Ct(){this.Ht.style.animationPlayState="paused";var t=parseFloat(n.getComputedStyle(this.Ht).left,10)/n.innerHeight*100;return t>=this.kt-this.yt&&t<=this.Ut},ht(){switch(this.xt(),Xt){case ft.H:this.Rt.style.opacity=1,Wt[32]||(this.Mt=this.Ct());break;case ft.R:case ft.U:this.Rt.style.opacity=0,this.Ht.style.animationPlayState="running"}Xt!==ft.H&&(this.Mt=null)},xt(){if([ft.H,ft.U,ft.k].includes(Xt)){var t=Hn(Yt),n=this.Rt.style;n.left=Math.round(t.x)+"px",n.top=Math.round(t.y)+"px"}}},Mn={Rt:P("f"),wt:null,$t:!1,ht(){if(Xt===ft.U){var t=this.Rt,e=Hn(Yt),a=this.Rt.style;a.left=Math.round(e.x)+"px",a.top=Math.round(e.y-n.innerHeight/12)+"px",t.className&&"o"!==t.className?Date.now()-this.wt>=1e3&&(t.className="o",this.$t=!1):(this.$t=!0,t.className="i",this.wt=Date.now())}}};function pn(){var t=Y,e=B;Y=n.innerWidth,B=n.innerHeight;var a=Y/At,i=B/At;H.aspect=a/i,H.updateProjectionMatrix(),b.left=a/-2,b.right=a/2,b.top=i/2,b.bottom=i/-2,b.updateProjectionMatrix(),F.scale.x*=Y/t,F.scale.y*=B/e,y.setSize(a,i),m.setSize(Y,B),C.width=Y*_,C.height=B*_,Nn()}function Tn(){var e=Pt.getDelta();Jt===vt.Y?(function(){const t=H.position,n=H.rotation;Wt[32]&&un?(t.z>st?(t.z=Math.max(t.z-ot,st),Qt=lt.S):Qt=lt.g,n.x<ut&&(n.x=Math.min(n.x+ht,ut))):Xt!==ft.L&&Xt!==ft.R||(t.z<rt?(t.z=Math.min(t.z+ot,rt),Qt=lt.N):Qt=lt.O,n.x>ct&&(n.x=Math.max(n.x-ht,ct)))}(),function(t){var n=q*t/.02;if(Wt[32])return An(n,"phi"),void An(n,"theta");Wt[87]||Wt[38]?zt.phi<j&&(zt.phi=Math.min(zt.phi+n,j)):Wt[83]||Wt[40]?zt.phi>-j&&(zt.phi=Math.max(zt.phi-n,-j)):An(n,"phi");Wt[65]||Wt[37]?zt.theta<j&&(zt.theta=Math.min(zt.theta+n,j)):Wt[68]||Wt[39]?zt.theta>-j&&(zt.theta=Math.max(zt.theta-n,-j)):An(n,"theta")}(e),zt.phi&&Gt.rotateOnWorldAxis($t,zt.phi),zt.theta&&Gt.rotateOnWorldAxis(Mt,zt.theta),function(t){(function(){switch(Xt){case ft.R:zt.phi||zt.theta?Xt=ft.m:Wt[32]&&Qt===lt.g&&(ln.it?(Xt=ft.F,M.l(l)):Xt=ft.D);break;case ft.m:zt.phi||zt.theta||(Xt=ft.R);break;case ft.D:Wt[32]?Nt.scale.y>=1&&(hn.at?(Xt=ft.H,$n.Ft(hn.nt)):(Xt=ft.U,M.l(h))):Xt=ft.L;break;case ft.H:null!=$n.Mt&&(Xt=$n.Mt?ft.k:ft.U,$n.Mt&&M.l(c));break;case ft.U:Mn.$t||(Xt=ft.L);break;case ft.k:case ft.L:Nt.scale.y<=0&&(Xt=ft.R);break;case ft.F:Wt[32]?mt.scale.y>=1&&(Xt=ft.P):Xt=ft.C;break;case ft.P:ln.Et.$t||(Xt=ft.C);break;case ft.C:mt.scale.y<=0&&(Xt=ft.R)}})(),Yt.rotation.x=xt.x-30*zt.phi,Yt.rotation.z=xt.z+30*zt.theta,kt.paused=Xt!==ft.R,function(){const t=Ut.isRunning();if(hn.et){Ut.timeScale=.55/(.05+hn.nt),!t&&Ut.play();var n=(Ut.timeScale-1)/10;M.f(n)}else t&&Ut.stop(),M.f(0)}(),function(t){switch(Xt){case ft.D:On(Nt,.6,t);break;case ft.L:On(Nt,.4,t,!0);break;case ft.H:gn(yt);break;case ft.k:Sn(yt),On(Nt,.9,t,!0);break;case ft.U:Sn(yt)}}(t),function(t){switch(Xt){case ft.F:On(mt,.3,t);break;case ft.C:Sn(Ft),On(mt,.3,t,!0);break;case ft.P:gn(Ft)}}(t)}(e),function(){if(!Rn())return;var t=bn(K,Z,tt);Ct&&(_t+=t.distanceTo(Ct));Ct=t}(),function(){if(!Rn())return;var n=Date.now();n-Vt>=3e3&&(Vt=n,function(){var n;function e(){n.position.setFromSphericalCoords(K,Z,tt),Gt.worldToLocal(n.position),n._t=Date.now()}Bt.children.length<at?(n=new t.Object3D,e(),Bt.add(n)):(n=Bt.children[0],e())}())}(),hn.ht(),ln.ht(),$n.ht(),Mn.ht(),Dt.update(e),Ht.update(e),bt.update(e),function(){switch(O){case g.w:!N[g.w]&&cn.some(t=>Wt[t])&&(N[g.w]=1,setTimeout(()=>{R(g.$)},3e3));break;case g.$:X>hn.ct()?n():N[g.$]&&hn.et&&R(g.M);break;case g.M:hn.at&&R(g.p);break;case g.p:X>hn.ct()?n():hn.at||R(g.M);break;case g.T:N[g.T]&&R(g.A)}function n(){R(g.v),setTimeout(()=>{N[g.p]=1;var n=new t.Spherical;n.setFromVector3(bn(K,Z-.5,tt-.5)),ln.st(n.phi,n.theta),setTimeout(()=>{R(g.T)},1e3)},3e3)}}()):Jt===vt.G?function(t){Yt.position.add(Yt._v.clone().multiplyScalar(t)),In(Yt.position,nn,en),H.position.add(H._v.clone().multiplyScalar(t)),In(H.position,jt,qt)}(e):Jt===vt.B&&function(t){Yt.position.add(Yt._v.clone().multiplyScalar(t)),In(Yt.position,en,an),Gt.position.add(Gt._v.clone().multiplyScalar(t)),In(Gt.position,Zt,tn)}(e),function(t){for(var n=dt.geometry.vertices,e=0;e<n.length;++e){var a=It[e];a.delta+=.002*t;var i=Math.min(.1*Math.sin(a.delta),z-J-.1);n[e].set(a.x+i,a.y+i,a.z+i)}dt.geometry.verticesNeedUpdate=!0}(1e3*e),function(t){Ot.rotation.x+=2e-5*t,Ot.rotation.z+=12e-6*t,Ot.children.forEach(function(n,e){n.rotation.y+=2e-4*t,n.rotation.x+=1e-4*t;var a=It[e],i=.8*Math.sin(a.delta/5+e/10)+.2;n.scale.setScalar(i)})}(1e3*e),Lt.update(e),function(t){if(Jt!==vt.W&&Jt!==vt.B&&Jt!==vt._)return;var n=(Rt.scale.x-1)/.4;(n+=t/2)>1&&(n=0);var e=1+.4*n;Rt.scale.set(e,e,1)}(e),n.rttOn&&(m.setRenderTarget(y),m.clear()),Jt===vt.Y&&(!function(){switch(Xt){case ft.C:case ft.L:case ft.k:Wt[32]&&(un=!1)}}(),U.update()),H.layers.set(et),m.render(D,H),H.layers.set(nt),m.render(D,H),n.rttOn&&(m.setRenderTarget(null),m.clear(),m.render(L,b)),m.setAnimationLoop(Tn)}function An(t,n){zt[n]>0?zt[n]=Math.max(zt[n]-t,0):zt[n]<0&&(zt[n]=Math.min(zt[n]+t,0))}function dn(t,n){Jt=t;var e=P("b"),a=P("u");function i(){U.resetPose(),Yt._v=en.clone().sub(Yt.position).divideScalar(Et),H._v=qt.clone().sub(H.position).divideScalar(Et),Rt.position.y=-.08,Rt.scale.set(1.3,1.3,1),Ut.stop()}if(Jt===vt.W)Yt.position.set(...nn.toArray()),H.position.set(...jt.toArray());else if(Jt===vt.G){var r=P("a");r.parentNode.removeChild(r),i(),setTimeout(function(){dn(vt.Y)},1e3*Et)}else Jt===vt.B?(Gt._v=tn.clone().sub(Gt.position).divideScalar(wt),Yt._v=an.clone().sub(Yt.position).divideScalar(wt/4),Rt.scale.set(1,1,1),Ut.play(),e.style.display=V,a.style.display=W,e.className=n?"w":"f",on.style.display=W,M.f(0),Vt=null,_t=0,Ct=null,Kt={},un=!0,Bt.remove(...Bt.children),Qt=lt.O,Nt.scale.set(0,0,0),mt.scale.set(0,0,0),hn.ot(),ln.ot(),En.ot(),wn.ot(),setTimeout(function(){dn(vt._)},1e3*wt)):Jt===vt.Y&&(e.style.display=W,a.style.display=V,M.f(0),i(),Yt.position.set(...en.toArray()),H.position.set(...qt.toArray()),Gt.position.set(...Zt.toArray()),a.style.display=V,Nn(),on.style.display=V,R(g.w))}function In(t,n,e){["x","y","z"].forEach(function(a){n[a]>e[a]?t[a]=Math.max(t[a],e[a]):t[a]=Math.min(t[a],e[a])})}function On(t,n,e,a){if(t._s)t.scale.add(t._s.clone().multiplyScalar(e)).clamp(pt,Tt),(t.scale.equals(pt)||t.scale.equals(Tt))&&(t._s=null);else{var i=a?pt:Tt;t._s=i.clone().sub(t.scale).divideScalar(n)}}function gn(t){t.isRunning()&&!t.paused||(t.stop(),t.play())}function Sn(t){t.paused||(t.paused=!0)}function Nn(){x.clearRect(0,0,C.width,C.height);var t=[20,30];r("DNA SAMPLES COLLECTED",t[0],t[1],"#ddd",16);for(var n=X-hn.ct(),e=0;e<10;++e){var a=e<n?sn.X[0]:"rgba(200,200,200,.1)";s(t[0]+22*e,42,18,18,2,a)}var i=Y-t[0]-216;function r(t,n,e,a,i){x.fillStyle=a,x.font=i*_+"px monospace",x.fillText(t,n*_,e*_)}function s(t,n,e,a,i,r,s){x.fillStyle=r;var o=e*_,u=a*_;x.fillRect(t*_,n*_,o,u);var c=t+e-i,h=n+a-i,l=i*_;x.clearRect(t*_,n*_,l,l),x.clearRect(t*_,h*_,l,l),s||(x.clearRect(c*_,n*_,l,l),x.clearRect(c*_,h*_,l,l))}r("PUBLIC PRESSURE",i+70,t[1],"#ddd",16),s(i,42,216,8,2,"rgba(200,200,200,.1)"),s(i,42,216*(Math.min(ln.At(),it)/it),8,2,sn.J,1)}function Rn(){return S||N[g.p]}function mn(n,e,a){var i=new t.Vector3;return i.setFromSphericalCoords(n,e,a),i}function Dn(n){return t.MathUtils.randFloatSpread(n)}function Ln(){return Dn(2*a)}function Hn(n){var e=Y/2,a=B/2,i=new t.Vector3;n.getWorldPosition(i);var r=i.z;return i.project(H),i.x=i.x*e+e,i.y=-i.y*a+a,i.z=r,i}function bn(t,n,e){return Gt.worldToLocal(mn(t,n,e))}function kn(t,n,a){var i=e.createElement(t);return n&&n.appendChild(i),a&&(i.className=a),i}function Un(t){return t[Math.floor(Math.random()*t.length)]}function yn(t,n){return Math.floor(Math.random()*(n-t+1))+t}(function(){function t(t,n){var a=e.createElement("canvas");return a.width=t,a.height=n,a}function n(n,e,a){var i=t(64*e,64).getContext("2d");i.textAlign="left",i.textBaseline="top",i.font="64px serif",i.fillText(n,0,2);for(var r=t(16,16),s=r.getContext("2d"),o=0;o<e;++o){s.clearRect(0,0,16,16);for(var u=i.getImageData(64*o,0,64,64).data,c=i.createImageData(16,16),h=c.data,l=0;l<16;++l)for(var f=Math.round(4*l),v=0;v<16;++v)for(var E=4*(64*Math.round(4*v)+f),w=4*(16*v+l),$=0;$<4;++$)h[w+$]=u[E+$];s.putImageData(c,0,0),a.push(r.toDataURL())}}n("👨‍🌾👩‍✈️👩‍🏫🕵️‍♀️👩‍💻👨‍🎨👩‍💼👨‍🚒🧙‍♂️👨‍🎓👨‍🚀🧛‍♂️👨‍🎤👷👨‍⚖️🧕",16,d),n("🐼🦋🦊🐶🌻🐷🐝🐔🐙🐡",10,I)})(),function(){D=new t.Scene,L=new t.Scene,(H=new t.PerspectiveCamera(75,Y/B,.1,1e6)).layers.enable(et);var n=new t.BoxGeometry(5e3,5e3,5e3),e=new t.MeshBasicMaterial({color:sn.Q,side:t.BackSide}),a=new t.Mesh(n,e);D.add(a);var i=Y/At,r=B/At;(b=new t.OrthographicCamera(i/-2,i/2,r/2,r/-2,-1e4,1e4)).position.z=100,y=new t.WebGLRenderTarget(i,r,{minFilter:t.NearestFilter,magFilter:t.NearestFilter,format:t.RGBFormat});var s=new t.PlaneBufferGeometry(i,r),o=new t.MeshBasicMaterial({map:y.texture});(F=new t.Mesh(s,o)).position.z=-100,L.add(F)}(),(k={}).ambient=new t.AmbientLight(G,.7),k.ambient.layers.enable(et),k.ambient.layers.disable(nt),D.add(k.ambient),k.key=new t.DirectionalLight(G,.4),k.key.position.set(0,.5,1),k.key.layers.enableAll(),k.key.castShadow=!0,D.add(k.key),k.spot=new t.SpotLight("#fc6",.25,100,a/12,.5,2),k.spot.position.set(0,5,20),k.spot.lookAt(0,0,0),k.spot.shadow.mapSize.width=1024,k.spot.shadow.mapSize.height=1024,k.spot.layers.enableAll(),k.fillTop=new t.DirectionalLight("#888",1),k.fillTop.position.set(.5,1,.75),k.fillBottom=new t.DirectionalLight("#555",1),k.fillBottom.position.set(-.5,-1,-.75),k.fillTop.layers.enable(nt),k.fillBottom.layers.enable(nt),k.fillTop.layers.disable(et),k.fillBottom.layers.disable(et),Gt.add(k.fillTop),Gt.add(k.fillBottom),function(){var n=new t.IcosahedronGeometry(J,4);It=[];for(var e=0;e<n.vertices.length;++e)It.push({x:n.vertices[e].x,y:n.vertices[e].y,z:n.vertices[e].z,delta:Math.random()*a*2});var i=new t.MeshPhongMaterial({color:sn.X[0],flatShading:!0,vertexColors:!0,shininess:.8});(dt=new t.Mesh(n,i)).layers.set(et),dt.receiveShadow=!0,Gt.add(dt)}(),function(){var n=new t.Mesh(new t.SphereGeometry(.25,32,32),new t.MeshToonMaterial({color:"#bfbfbf"}));n.position.y=-.05;var e=new t.Mesh(new t.ConeGeometry(.5,.25,32),new t.MeshToonMaterial({color:"#8c8c8c"}));(Rt=new t.Mesh(new t.TorusGeometry(.25,.05,32,64),new t.MeshBasicMaterial({color:sn.X[0],transparent:!0,opacity:0}))).rotateX(Math.PI/2),Rt.position.y=-.06,(Nt=new t.Mesh(new t.ConeGeometry(.45,.8,32),new t.MeshToonMaterial({color:"#faad14",transparent:!0,opacity:.5}))).position.y=-.35,Nt.scale.set(0,0,0),(mt=new t.Mesh(new t.CylinderGeometry(.15,.15,.76,32),new t.MeshToonMaterial({color:"#dd4491",transparent:!0,opacity:.5}))).position.y=-.4,mt.scale.set(0,0,0),Yt.position.set(...en.toArray()),Yt.rotation.x=1,Yt.layers.set(nt),Yt.add(n,e,Rt,Nt,mt),D.add(Yt),xt=Yt.rotation.clone(),function(){Dt=new t.AnimationMixer(Yt);var n=Yt.position,e=mn(Q+.28,Z,tt),a=new t.VectorKeyframeTrack(".position",[0,.8],[n.x,n.y,n.z,e.x,e.y,e.z]),i=new t.AnimationClip("UfoIdle",.8,[a]);(kt=Dt.clipAction(i)).loop=t.LoopPingPong,kt.play()}(),Lt=new t.AnimationMixer(Rt),(Ut=Lt.clipAction(new t.AnimationClip("UfoIndicator",1,[new t.NumberKeyframeTrack(".material.opacity",[0,1],[0,1])]))).loop=t.LoopPingPong,Ut.play(),Ht=new t.AnimationMixer(Nt),(yt=Ht.clipAction(new t.AnimationClip("UfoRay",1.2,[new t.VectorKeyframeTrack(".scale",[0,1.2],[1,1,1,.5,1,.5])]))).loop=t.LoopPingPong,bt=new t.AnimationMixer(mt),(Ft=bt.clipAction(new t.AnimationClip("UfoLaser",.3,[new t.VectorKeyframeTrack(".scale",[0,.3],[1,1,1,.4,1,.4])]))).loop=t.LoopPingPong}(),function(){Ot=new t.Group,Gt.add(Ot);for(var n=K+2,e=new t.MeshPhongMaterial({color:new t.Color(G),flatShading:!0}),i=0;i<50;++i)for(var r=Dn(2*a),s=Dn(2*a),o=.5*Math.random()+.8,u=0;u<5;++u){var c=[.4,.6,.8,.4][u]+Dn(.2),h=new t.IcosahedronGeometry(c*o,0),l=new t.Mesh(h,e);r+=.04+Dn(.03*a);var f=Dn(.1);l.position.setFromSphericalCoords(n+f,r,s),l.rotation.set(Dn(2*a),Dn(2*a),Dn(2*a)),l.layers.set(et),Ot.add(l)}}(),function(){var n=new t.MeshPhongMaterial({color:sn.j,flatShading:!0,shininess:0}),e=new t.IcosahedronGeometry(z,4);(gt=new t.Mesh(e,n)).layers.set(et),gt.receiveShadow=!0,Gt.add(gt);for(var a={},i=[],r=0;r<e.vertices.length;++r){var s=e.vertices[r];s.x*s.x+s.y*s.y>100&&s.x*s.y-s.z>14||s.y*s.x+s.y*s.z>50&&s.y*s.x+s.y*s.z<65||s.y*s.z*s.z-s.x*s.x<-300||s.x*s.z-s.x*s.y>60||s.x-s.y+s.x*s.z>55||s.x-(s.y+50)*(s.z-20)>1400&&s.y*s.x>200||s.x*s.y-s.x<-50||(s.x-50)*s.z-s.x*s.y*8<-500||s.y*s.y-30*s.z-50*s.y+20*s.x<-490&&s.y>6||s.z<-8&&s.x>2||s.y*s.y-s.z+10*s.x>110?(e.vertices[r].multiplyScalar(.6),i.push(0)):i.push(1)}for(St=[],r=0;r<e.faces.length;++r){var o=e.faces[r];i[o.a]&&i[o.b]&&i[o.c]?(St.push(5),a[o.a]=2,a[o.b]=2,a[o.c]=2):St.push(-10)}for(var u=1;u>-4;--u)for(r=0;r<e.faces.length;++r){o=e.faces[r];var c=a[o.a]>u,h=a[o.b]>u,l=a[o.c]>u;c&&h&&l||!(c||h||l)?a[o.a]>=u&&a[o.b]>=u&&(St[r]=Math.max(u,St[r])):(St[r]=u,a[o.a]=null==a[o.a]?u:Math.max(u,a[o.a]),a[o.b]=null==a[o.b]?u:Math.max(u,a[o.b]),a[o.c]=null==a[o.c]?u:Math.max(u,a[o.c]))}St.forEach(function(n,e){dt.geometry.faces[e].color=new t.Color(n>=1?sn.X[0]:sn.X[Math.min(1-n,sn.X.length-1)])}),dt.geometry.colorsNeedUpdate=!0,e.verticesNeedUpdate=!0}(),function(){var n=new t.Group;Gt.add(n);for(var e=0;e<3e3;++e){var i=new t.MeshBasicMaterial({color:"#999",opacity:.8*Math.random(),transparent:!0}),r=new t.TetrahedronGeometry(Math.random(),0),s=new t.Mesh(r,i),o=150*(2*Math.random()+1),u=new t.Spherical(o);u.phi=Dn(2*a),u.theta=Dn(2*a),s.position.setFromSphericalCoords(o,u.phi,u.theta),s.rotation.set(Math.random()*a*2,Math.random()*a*2,Math.random()*a*2),s.scale.setScalar(Dn(6)),n.add(s)}}(),Gt.add(Bt),D.add(Gt),hn.rt(),ln.rt({pt:En}),m=new t.WebGLRenderer({antialias:!0,alpha:!0}),_=n.devicePixelRatio?n.devicePixelRatio:1,m.setPixelRatio(_),m.autoClear=!1,m.setClearColor(sn.Q,0),m.xr.enabled=!0,e.body.appendChild(m.domElement),e.body.appendChild(t.VRButton.createButton(m)),C=P("u"),x=C.getContext("2d"),pn(),Pt=new t.Clock,n.addEventListener("resize",pn,!1),e.addEventListener("keydown",function(t){var e=13,a=[e,32].indexOf(t.keyCode)>-1,i=!a&&cn.includes(t.keyCode);i&&Qt!==lt.O||(Wt[t.keyCode]=!0),Jt===vt.W?a&&(dn(vt.G),M.e()):Jt===vt.Y?rn||(rn=!0,Vt=Date.now()):Jt!==vt.B&&Jt!==vt._||t.keyCode===e&&(n.location.href=S?"?t=0":"")}),e.addEventListener("keyup",function(t){Wt[t.keyCode]=!1,32===t.keyCode&&(un=!0)}),U=new t.VRControls(H),dn(vt.W),Tn(),P("x").innerHTML="PRESS ENTER"}catch(t){}}(THREE,window,document,Math.PI);